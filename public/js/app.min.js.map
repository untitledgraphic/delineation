{"version":3,"sources":["app.js","jquery.lazy.js"],"names":["app","$","settings","this","$window","window","init","bindUIActions","bindWindowActions","nav","form","lazy","parallax","setTimeout","addClass","navon","click","e","preventDefault","removeClass","first","active","hasClass","not","blur","tmpval","val","Lazy","scrollDirection","effect","effectTime","visibleOnly","onError","element","console","log","data","afterLoad","scroll","scrollTop","h","innerHeight","css","jQuery","document","ready","undefined","_executeLazy","instance","config","items","events","namespace","_initialize","_isRetinaDisplay","devicePixelRatio","_prepareItems","delay","_lazyLoadItems","combined","_throttle","throttle","event","type","_actualWidth","_actualHeight","all","a","additionalItems","push","apply","g","filter","loadedName","f","forcedItems","i","length","item","appendScroll","on","defaultImage","placeholder","imageBase","srcsetAttribute","loaderAttribute","forcedTags","_f","tag","_getElementTagName","handledName","attr","attribute","name","l","elementImageBase","imageBaseAttribute","_img","_getCorrectedSrcSet","_src","_backgroundImage","allItems","forced","autoDestroy","destroy","elements","loadTriggered","_isInLoadableArea","customLoader","is","_srcset","_handleItem","_awaitingAfterLoad","errorCallback","_triggerCallback","_reduceAwaiting","noop","srcAttribute","sizesAttribute","retinaAttribute","removeAttribute","elementRetina","loadCallback","removeAttr","_afterLoad","off","_error","one","_load","response","trigger","imageObj","Image","hide","_sizes","remove","imageSrc","complete","elementBound","getBoundingClientRect","direction","threshold","vertical","_getActualHeight","top","bottom","horizontal","_getActualWidth","left","right","width","height","tagName","toLowerCase","srcset","entries","split","trim","callback","timeout","lastExecute","ignoreThrottle","run","Date","call","elapsed","clearTimeout","enableThrottle","args","slice","arguments","bind","windowLoaded","LazyPlugin","_instance","_config","extend","_events","_namespace","lazyInstanceId","entryName","value","addItems","getItems","update","useThrottle","force","loadAll","chainable","Zepto","fn","names","loader","isFunction","isArray","prototype","c","beforeLoad","onFinishedAll"],"mappings":"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","file":"app.min.js","sourcesContent":["/*! (c) 2018 Craig Cooper */\n\nvar app = (function ($) {\n    'use strict';\n\n    // private alias to settings\n    //var s;\n\n    return {\n        settings: function () {\n            this.$window        = $(window);\n        },\n\n        init: function () {\n            //var s = new this.settings();\n            \n            this.bindUIActions();       // UI Actions (click, focus etc)\n            this.bindWindowActions();   // Window actions (scrolling, resize etc)\n            this.nav();                 // Main navigation\n//            this.features();            // do stuff on scroll (Scrollify)\n            this.form();                // form type stuff\n            this.lazy();                // lazyload config\n            this.parallax();            // parallaxy images\n        },\n\n        bindUIActions: function() {\n            \n            ////////// LOGO DEBOSS ///////////\n            setTimeout(function(){\n                $('body').addClass('loaded');\n            }, 2000);\n        },\n\n        bindWindowActions: function() {\n            ////////// Nothing to see here ///////////\n        }, \n        \n        nav: function() {\n            var nav = '#mainNav';\n            var navon = 'mainNav--active';\n            \n            $('#navTrigger').click(function(e) {\n                e.preventDefault();\n                $(nav).addClass(navon);\n            });\n            $('.mainNav__close').click(function(e) {\n                e.preventDefault();\n                $(nav).removeClass(navon);\n            });\n            $('.mainNav__link').click(function() {\n                $(nav).removeClass(navon);\n            });\n            \n            $('#works').click(function() {\n                \n                var first = '[data-slide=\"1\"]';\n                var active = 'active';\n                \n                if ($(first).hasClass(active)) {\n                    //do nothing\n                }\n                else if ($('.slide').not(first).hasClass(active)) { \n                    $('.slide').not(first).removeClass(active);\n                    $(first).addClass(active);\n                }\n                else {\n                    $(first).addClass(active);\n                }\n            });\n        },\n        \n        form: function() {\n            \n            $('.form__txt').blur(function() {\n                var tmpval = $(this).val();\n                if(tmpval === '') {\n//                    $(this).addClass('empty');\n                    $(this).removeClass('filled');\n                } else {\n                    $(this).addClass('filled');\n//                    $(this).removeClass('empty');\n                }\n            });\n        },\n        \n        lazy: function() {\n\n            $('.lazy').Lazy({\n                // your configuration goes here\n                scrollDirection: 'vertical',\n                effect: 'fadeIn',\n                effectTime: 1000,\n                visibleOnly: true,\n                onError: function(element) {\n                    console.log('error loading ' + element.data('src'));\n                },\n                afterLoad: function(e) {\n                    $(this).addClass('loadeded');\n                    console.log('loaded' + e.data('src'));\n                }\n            });\n        },\n        \n        parallax: function() {\n            \n            $( window ).scroll(function() {\n                \n                var scroll = $(window).scrollTop();\n                var h = $( window ).innerHeight()/2;\n                $('.hero img').css('top', scroll/5);\n                $('.hero__banner').css('opacity', 1 - scroll/h);\n            });\n        }\n    };\n})(jQuery);\n\njQuery(document).ready(function() {\n    app.init();\n});","/*!\n * jQuery & Zepto Lazy - v1.7.5\n * http://jquery.eisbehr.de/lazy/\n *\n * Copyright 2012 - 2017, Daniel 'Eisbehr' Kern\n *\n * Dual licensed under the MIT and GPL-2.0 licenses:\n * http://www.opensource.org/licenses/mit-license.php\n * http://www.gnu.org/licenses/gpl-2.0.html\n *\n * $(\"img.lazy\").lazy();\n */\n\n;(function(window, undefined) {\n    \"use strict\";\n\n    // noinspection JSUnresolvedVariable\n    /**\n     * library instance - here and not in construct to be shorter in minimization\n     * @return void\n     */\n    var $ = window.jQuery || window.Zepto,\n\n    /**\n     * unique plugin instance id counter\n     * @type {number}\n     */\n    lazyInstanceId = 0,\n\n    /**\n     * helper to register window load for jQuery 3\n     * @type {boolean}\n     */    \n    windowLoaded = false;\n\n    /**\n     * make lazy available to jquery - and make it a bit more case-insensitive :)\n     * @access public\n     * @type {function}\n     * @param {object} settings\n     * @return void\n     */\n    $.fn.Lazy = $.fn.lazy = function(settings) {\n        return new LazyPlugin(this, settings);\n    };\n\n    /**\n     * helper to add plugins to lazy prototype configuration\n     * @access public\n     * @type {function}\n     * @param {string|Array} names\n     * @param {string|Array} [elements]\n     * @param {function} loader\n     * @return void\n     */\n    $.Lazy = $.lazy = function(names, elements, loader) {\n        // make second parameter optional\n        if( $.isFunction(elements) ) {\n            loader = elements;\n            elements = [];\n        }\n\n        // exit here if parameter is not a callable function\n        if( !$.isFunction(loader) ) return;\n\n        // make parameters an array of names to be sure\n        names = $.isArray(names) ? names : [names];\n        elements = $.isArray(elements) ? elements : [elements];\n\n        var config = LazyPlugin.prototype.config,\n            forced = config._f || (config._f = {});\n\n        // add the loader plugin for every name\n        for( var i = 0, l = names.length; i < l; i++ )\n            if( config[names[i]] === undefined || $.isFunction(config[names[i]]) )\n                config[names[i]] = loader;\n\n        // add forced elements loader\n        for( var c = 0, a = elements.length; c < a; c++ )\n            forced[elements[c]] = names[0];\n    };\n\n    /**\n     * contains all logic and the whole element handling\n     * is packed in a private function outside class to reduce memory usage, because it will not be created on every plugin instance\n     * @access private\n     * @type {function}\n     * @param {LazyPlugin} instance\n     * @param {object} config\n     * @param {object|Array} items\n     * @param {object} events\n     * @param {string} namespace\n     * @return void\n     */\n    function _executeLazy(instance, config, items, events, namespace) {\n        /**\n         * a helper to trigger the 'onFinishedAll' callback after all other events\n         * @access private\n         * @type {number}\n         */\n        var _awaitingAfterLoad = 0,\n\n        /**\n         * visible content width\n         * @access private\n         * @type {number}\n         */\n        _actualWidth = -1,\n\n        /**\n         * visible content height\n         * @access private\n         * @type {number}\n         */\n        _actualHeight = -1,\n\n        /**\n         * determine possibly detected high pixel density\n         * @access private\n         * @type {boolean}\n         */\n        _isRetinaDisplay = false, \n\n        /**\n         * dictionary entry for better minimization\n         * @access private\n         * @type {string}\n         */\n        _afterLoad = \"afterLoad\",\n\n        /**\n         * dictionary entry for better minimization\n         * @access private\n         * @type {string}\n         */\n        _load = \"load\",\n\n        /**\n         * dictionary entry for better minimization\n         * @access private\n         * @type {string}\n         */\n        _error = \"error\",\n\n        /**\n         * dictionary entry for better minimization\n         * @access private\n         * @type {string}\n         */\n        _img = \"img\",\n\n        /**\n         * dictionary entry for better minimization\n         * @access private\n         * @type {string}\n         */\n        _src = \"src\",\n\n        /**\n         * dictionary entry for better minimization\n         * @access private\n         * @type {string}\n         */\n        _srcset = \"srcset\",\n\n        /**\n         * dictionary entry for better minimization\n         * @access private\n         * @type {string}\n         */\n        _sizes = \"sizes\",\n\n        /**\n         * dictionary entry for better minimization\n         * @access private\n         * @type {string}\n         */\n        _backgroundImage = \"background-image\";\n\n        /**\n         * initialize plugin\n         * bind loading to events or set delay time to load all items at once\n         * @access private\n         * @return void\n         */\n        function _initialize() {\n            // detect actual device pixel ratio\n            // noinspection JSUnresolvedVariable\n            _isRetinaDisplay = window.devicePixelRatio > 1;\n\n            // prepare all initial items\n            _prepareItems(items);\n\n            // if delay time is set load all items at once after delay time\n            if( config.delay >= 0 ) setTimeout(function() { _lazyLoadItems(true); }, config.delay);\n\n            // if no delay is set or combine usage is active bind events\n            if( config.delay < 0 || config.combined ) {\n                // create unique event function\n                events.e = _throttle(config.throttle, function(event) {\n                    // reset detected window size on resize event\n                    if( event.type === \"resize\" )\n                        _actualWidth = _actualHeight = -1;\n\n                    // execute 'lazy magic'\n                    _lazyLoadItems(event.all);\n                });\n\n                // create function to add new items to instance\n                events.a = function(additionalItems) {\n                    _prepareItems(additionalItems);\n                    items.push.apply(items, additionalItems);\n                };\n\n                // create function to get all instance items left\n                events.g = function() {\n                    // filter loaded items before return in case internal filter was not running until now\n                    return (items = $(items).filter(function() {\n                        return !$(this).data(config.loadedName);\n                    }));\n                };\n\n                // create function to force loading elements\n                events.f = function(forcedItems) {\n                    for( var i = 0; i < forcedItems.length; i++ ) {\n                        // only handle item if available in current instance\n                        // use a compare function, because Zepto can't handle object parameter for filter\n                        // var item = items.filter(forcedItems[i]);\n                        /* jshint loopfunc: true */\n                        var item = items.filter(function() {\n                            return this === forcedItems[i];\n                        });\n\n                        if( item.length ) {\n                            _lazyLoadItems(false, item);   \n                        }\n                    }\n                };\n\n                // load initial items\n                _lazyLoadItems();\n\n                // bind lazy load functions to scroll and resize event\n                // noinspection JSUnresolvedVariable\n                $(config.appendScroll).on(\"scroll.\" + namespace + \" resize.\" + namespace, events.e);\n            }\n        }\n\n        /**\n         * prepare items before handle them\n         * @access private\n         * @param {Array|object|jQuery} items\n         * @return void\n         */\n        function _prepareItems(items) {\n            // fetch used configurations before loops\n            var defaultImage = config.defaultImage,\n                placeholder = config.placeholder,\n                imageBase = config.imageBase,\n                srcsetAttribute = config.srcsetAttribute,\n                loaderAttribute = config.loaderAttribute,\n                forcedTags = config._f || {};\n\n            // filter items and only add those who not handled yet and got needed attributes available\n            items = $(items).filter(function() {\n                var element = $(this),\n                    tag = _getElementTagName(this);\n\n                return !element.data(config.handledName) && \n                       (element.attr(config.attribute) || element.attr(srcsetAttribute) || element.attr(loaderAttribute) || forcedTags[tag] !== undefined);\n            })\n\n            // append plugin instance to all elements\n            .data(\"plugin_\" + config.name, instance);\n\n            for( var i = 0, l = items.length; i < l; i++ ) {\n                var element = $(items[i]),\n                    tag = _getElementTagName(items[i]),\n                    elementImageBase = element.attr(config.imageBaseAttribute) || imageBase;\n\n                // generate and update source set if an image base is set\n                if( tag === _img && elementImageBase && element.attr(srcsetAttribute) )\n                    element.attr(srcsetAttribute, _getCorrectedSrcSet(element.attr(srcsetAttribute), elementImageBase));\n\n                // add loader to forced element types\n                if( forcedTags[tag] !== undefined && !element.attr(loaderAttribute) )\n                    element.attr(loaderAttribute, forcedTags[tag]);\n\n                // set default image on every element without source\n                if( tag === _img && defaultImage && !element.attr(_src) )\n                    element.attr(_src, defaultImage);\n\n                // set placeholder on every element without background image\n                else if( tag !== _img && placeholder && (!element.css(_backgroundImage) || element.css(_backgroundImage) === \"none\") )\n                    element.css(_backgroundImage, \"url('\" + placeholder + \"')\");\n            }\n        }\n\n        /**\n         * the 'lazy magic' - check all items\n         * @access private\n         * @param {boolean} [allItems]\n         * @param {object} [forced]\n         * @return void\n         */\n        function _lazyLoadItems(allItems, forced) {\n            // skip if no items where left\n            if( !items.length ) {\n                // destroy instance if option is enabled\n                if( config.autoDestroy )\n                    // noinspection JSUnresolvedFunction\n                    instance.destroy();\n\n                return;\n            }\n\n            var elements = forced || items,\n                loadTriggered = false,\n                imageBase = config.imageBase || \"\",\n                srcsetAttribute = config.srcsetAttribute,\n                handledName = config.handledName;\n\n            // loop all available items\n            for( var i = 0; i < elements.length; i++ ) {\n                // item is at least in loadable area\n                if( allItems || forced || _isInLoadableArea(elements[i]) ) {\n                    var element = $(elements[i]),\n                        tag = _getElementTagName(elements[i]),\n                        attribute = element.attr(config.attribute),\n                        elementImageBase = element.attr(config.imageBaseAttribute) || imageBase,\n                        customLoader = element.attr(config.loaderAttribute);\n\n                        // is not already handled \n                    if( !element.data(handledName) &&\n                        // and is visible or visibility doesn't matter\n                        (!config.visibleOnly || element.is(\":visible\")) && (\n                        // and image source or source set attribute is available\n                        (attribute || element.attr(srcsetAttribute)) && (\n                            // and is image tag where attribute is not equal source or source set\n                            (tag === _img && (elementImageBase + attribute !== element.attr(_src) || element.attr(srcsetAttribute) !== element.attr(_srcset))) ||\n                            // or is non image tag where attribute is not equal background\n                            (tag !== _img && elementImageBase + attribute !== element.css(_backgroundImage)) \n                        ) ||\n                        // or custom loader is available\n                        customLoader ))\n                    {\n                        // mark element always as handled as this point to prevent double handling\n                        loadTriggered = true;\n                        element.data(handledName, true);\n\n                        // load item\n                        _handleItem(element, tag, elementImageBase, customLoader);\n                    }\n                }\n            }\n\n            // when something was loaded remove them from remaining items\n            if( loadTriggered )\n                items = $(items).filter(function() {\n                    return !$(this).data(handledName);\n                });\n        }\n\n        /**\n         * load the given element the lazy way\n         * @access private\n         * @param {object} element\n         * @param {string} tag\n         * @param {string} imageBase\n         * @param {function} [customLoader]\n         * @return void\n         */\n        function _handleItem(element, tag, imageBase, customLoader) {\n            // increment count of items waiting for after load\n            ++_awaitingAfterLoad;\n\n            // extended error callback for correct 'onFinishedAll' handling\n            var errorCallback = function() {\n                _triggerCallback(\"onError\", element);\n                _reduceAwaiting();\n\n                // prevent further callback calls\n                errorCallback = $.noop;\n            };\n\n            // trigger function before loading image\n            _triggerCallback(\"beforeLoad\", element);\n\n            // fetch all double used data here for better code minimization\n            var srcAttribute = config.attribute,\n                srcsetAttribute = config.srcsetAttribute,\n                sizesAttribute = config.sizesAttribute,\n                retinaAttribute = config.retinaAttribute,\n                removeAttribute = config.removeAttribute,\n                loadedName = config.loadedName,\n                elementRetina = element.attr(retinaAttribute);\n\n            // handle custom loader\n            if( customLoader ) {\n                // on load callback\n                var loadCallback = function() {\n                    // remove attribute from element\n                    if( removeAttribute )\n                        element.removeAttr(config.loaderAttribute);\n\n                    // mark element as loaded\n                    element.data(loadedName, true);\n\n                    // call after load event\n                    _triggerCallback(_afterLoad, element);\n\n                    // remove item from waiting queue and possibly trigger finished event\n                    // it's needed to be asynchronous to run after filter was in _lazyLoadItems\n                    setTimeout(_reduceAwaiting, 1);\n\n                    // prevent further callback calls\n                    loadCallback = $.noop;\n                };\n\n                // bind error event to trigger callback and reduce waiting amount\n                element.off(_error).one(_error, errorCallback)\n\n                // bind after load callback to element\n                .one(_load, loadCallback);\n\n                // trigger custom loader and handle response\n                if( !_triggerCallback(customLoader, element, function(response) {\n                    if( response ) {\n                        element.off(_load);\n                        loadCallback();\n                    }\n                    else {\n                        element.off(_error);\n                        errorCallback();\n                    }\n                })) element.trigger(_error);\n            }\n\n            // handle images\n            else {\n                // create image object\n                var imageObj = $(new Image());\n\n                // bind error event to trigger callback and reduce waiting amount\n                imageObj.one(_error, errorCallback)\n\n                // bind after load callback to image\n                .one(_load, function() {\n                    // remove element from view\n                    element.hide();\n\n                    // set image back to element\n                    // do it as single 'attr' calls, to be sure 'src' is set after 'srcset'\n                    if( tag === _img )\n                        element.attr(_sizes, imageObj.attr(_sizes))\n                               .attr(_srcset, imageObj.attr(_srcset))\n                               .attr(_src, imageObj.attr(_src));\n                    else\n                        element.css(_backgroundImage, \"url('\" + imageObj.attr(_src) + \"')\");\n\n                    // bring it back with some effect!\n                    element[config.effect](config.effectTime);\n\n                    // remove attribute from element\n                    if( removeAttribute ) {\n                        element.removeAttr(srcAttribute + \" \" + srcsetAttribute + \" \" + retinaAttribute + \" \" + config.imageBaseAttribute);\n\n                        // only remove 'sizes' attribute, if it was a custom one\n                        if( sizesAttribute !== _sizes )\n                            element.removeAttr(sizesAttribute);\n                    }\n\n                    // mark element as loaded\n                    element.data(loadedName, true);\n\n                    // call after load event\n                    _triggerCallback(_afterLoad, element);\n\n                    // cleanup image object\n                    imageObj.remove();\n\n                    // remove item from waiting queue and possibly trigger finished event\n                    _reduceAwaiting();\n                });\n\n                // set sources\n                // do it as single 'attr' calls, to be sure 'src' is set after 'srcset'\n                var imageSrc = (_isRetinaDisplay && elementRetina ? elementRetina : element.attr(srcAttribute)) || \"\";\n                imageObj.attr(_sizes, element.attr(sizesAttribute))\n                        .attr(_srcset, element.attr(srcsetAttribute))\n                        .attr(_src, imageSrc ? imageBase + imageSrc : null);\n\n                // call after load even on cached image\n                imageObj.complete && imageObj.trigger(_load); // jshint ignore : line\n            }\n        }\n\n        /**\n         * check if the given element is inside the current viewport or threshold\n         * @access private\n         * @param {object} element\n         * @return {boolean}\n         */\n        function _isInLoadableArea(element) {\n            var elementBound = element.getBoundingClientRect(),\n                direction    = config.scrollDirection,\n                threshold    = config.threshold,\n                vertical     = // check if element is in loadable area from top\n                               ((_getActualHeight() + threshold) > elementBound.top) &&\n                               // check if element is even in loadable are from bottom\n                               (-threshold < elementBound.bottom),\n                horizontal   = // check if element is in loadable area from left\n                               ((_getActualWidth() + threshold) > elementBound.left) &&\n                               // check if element is even in loadable area from right\n                               (-threshold < elementBound.right);\n\n            if( direction === \"vertical\" ) return vertical;\n            else if( direction === \"horizontal\" ) return horizontal;\n\n            return vertical && horizontal;\n        }\n\n        /**\n         * receive the current viewed width of the browser\n         * @access private\n         * @return {number}\n         */\n        function _getActualWidth() {\n            return _actualWidth >= 0 ? _actualWidth : (_actualWidth = $(window).width());\n        }\n\n        /**\n         * receive the current viewed height of the browser\n         * @access private\n         * @return {number}\n         */\n        function _getActualHeight() {\n            return _actualHeight >= 0 ? _actualHeight : (_actualHeight = $(window).height());\n        }\n\n        /**\n         * get lowercase tag name of an element\n         * @access private\n         * @param {object} element\n         * @returns {string}\n         */\n        function _getElementTagName(element) {\n            return element.tagName.toLowerCase();\n        }\n\n        /**\n         * prepend image base to all srcset entries\n         * @access private\n         * @param {string} srcset\n         * @param {string} imageBase\n         * @returns {string}\n         */\n        function _getCorrectedSrcSet(srcset, imageBase) {\n            if( imageBase ) {\n                // trim, remove unnecessary spaces and split entries\n                var entries = srcset.split(\",\");\n                srcset = \"\";\n\n                for( var i = 0, l = entries.length; i < l; i++ )\n                    srcset += imageBase + entries[i].trim() + (i !== l - 1 ? \",\" : \"\");\n            }\n\n            return srcset;\n        }\n\n        /**\n         * helper function to throttle down event triggering\n         * @access private\n         * @param {number} delay\n         * @param {function} callback\n         * @return {function}\n         */\n        function _throttle(delay, callback) {\n            var timeout,\n                lastExecute = 0;\n\n            return function(event, ignoreThrottle) {\n                var elapsed = +new Date() - lastExecute;\n\n                function run() {\n                    lastExecute = +new Date();\n                    callback.call(instance, event);\n                }\n\n                timeout && clearTimeout(timeout); // jshint ignore : line\n\n                if( elapsed > delay || !config.enableThrottle || ignoreThrottle ) run();\n                else timeout = setTimeout(run, delay - elapsed);\n            };\n        }\n\n        /**\n         * reduce count of awaiting elements to 'afterLoad' event and fire 'onFinishedAll' if reached zero\n         * @access private\n         * @return void\n         */\n        function _reduceAwaiting() {\n            --_awaitingAfterLoad;\n\n            // if no items were left trigger finished event\n            if( !items.length && !_awaitingAfterLoad ) _triggerCallback(\"onFinishedAll\");\n        }\n\n        /**\n         * single implementation to handle callbacks, pass element and set 'this' to current instance\n         * @access private\n         * @param {string|function} callback\n         * @param {object} [element]\n         * @param {*} [args]\n         * @return {boolean}\n         */\n        function _triggerCallback(callback, element, args) {\n            if( (callback = config[callback]) ) {\n                // jQuery's internal '$(arguments).slice(1)' are causing problems at least on old iPads\n                // below is shorthand of 'Array.prototype.slice.call(arguments, 1)'\n                callback.apply(instance, [].slice.call(arguments, 1));\n                return true;\n            }\n\n            return false;\n        }\n\n        // if event driven or window is already loaded don't wait for page loading\n        if( config.bind === \"event\" || windowLoaded )\n            _initialize();\n\n        // otherwise load initial items and start lazy after page load\n        else // noinspection JSUnresolvedVariable\n            $(window).on(_load + \".\" + namespace, _initialize);\n    }\n\n    /**\n     * lazy plugin class constructor\n     * @constructor\n     * @access private\n     * @param {object} elements\n     * @param {object} settings\n     * @return {object|LazyPlugin}\n     */\n    function LazyPlugin(elements, settings) {\n        /**\n         * this lazy plugin instance\n         * @access private\n         * @type {object|LazyPlugin|LazyPlugin.prototype}\n         */\n        var _instance = this,\n\n        /**\n         * this lazy plugin instance configuration\n         * @access private\n         * @type {object}\n         */\n        _config = $.extend({}, _instance.config, settings),\n\n        /**\n         * instance generated event executed on container scroll or resize\n         * packed in an object to be referenceable and short named because properties will not be minified\n         * @access private\n         * @type {object}\n         */\n        _events = {},\n\n        /**\n         * unique namespace for instance related events\n         * @access private\n         * @type {string}\n         */\n        _namespace = _config.name + \"-\" + (++lazyInstanceId);\n\n        // noinspection JSUndefinedPropertyAssignment\n        /**\n         * wrapper to get or set an entry from plugin instance configuration\n         * much smaller on minify as direct access\n         * @access public\n         * @type {function}\n         * @param {string} entryName\n         * @param {*} [value]\n         * @return {LazyPlugin|*}\n         */\n        _instance.config = function(entryName, value) {\n            if( value === undefined )\n                return _config[entryName];\n\n            _config[entryName] = value;\n            return _instance;\n        };\n\n        // noinspection JSUndefinedPropertyAssignment\n        /**\n         * add additional items to current instance\n         * @access public\n         * @param {Array|object|string} items\n         * @return {LazyPlugin}\n         */\n        _instance.addItems = function(items) {\n            _events.a && _events.a($.type(items) === \"string\" ? $(items) : items); // jshint ignore : line\n            return _instance;\n        };\n\n        // noinspection JSUndefinedPropertyAssignment\n        /**\n         * get all left items of this instance\n         * @access public\n         * @returns {object}\n         */\n        _instance.getItems = function() {\n            return _events.g ? _events.g() : {};\n        };\n\n        // noinspection JSUndefinedPropertyAssignment\n        /**\n         * force lazy to load all items in loadable area right now\n         * by default without throttle\n         * @access public\n         * @type {function}\n         * @param {boolean} [useThrottle]\n         * @return {LazyPlugin}\n         */\n        _instance.update = function(useThrottle) {\n            _events.e && _events.e({}, !useThrottle); // jshint ignore : line\n            return _instance;\n        };\n\n        // noinspection JSUndefinedPropertyAssignment\n        /**\n         * force element(s) to load directly, ignoring the viewport\n         * @access public\n         * @param {Array|object|string} items\n         * @return {LazyPlugin}\n         */\n        _instance.force = function(items) {\n            _events.f && _events.f($.type(items) === \"string\" ? $(items) : items); // jshint ignore : line\n            return _instance;\n        };\n\n        // noinspection JSUndefinedPropertyAssignment\n        /**\n         * force lazy to load all available items right now\n         * this call ignores throttling\n         * @access public\n         * @type {function}\n         * @return {LazyPlugin}\n         */\n        _instance.loadAll = function() {\n            _events.e && _events.e({all: true}, true); // jshint ignore : line\n            return _instance;\n        };\n\n        // noinspection JSUndefinedPropertyAssignment\n        /**\n         * destroy this plugin instance\n         * @access public\n         * @type {function}\n         * @return undefined\n         */\n        _instance.destroy = function() {\n            // unbind instance generated events\n            // noinspection JSUnresolvedFunction, JSUnresolvedVariable\n            $(_config.appendScroll).off(\".\" + _namespace, _events.e);\n            // noinspection JSUnresolvedVariable\n            $(window).off(\".\" + _namespace);\n\n            // clear events\n            _events = {};\n\n            return undefined;\n        };\n\n        // start using lazy and return all elements to be chainable or instance for further use\n        // noinspection JSUnresolvedVariable\n        _executeLazy(_instance, _config, elements, _events, _namespace);\n        return _config.chainable ? elements : _instance;\n    }\n\n    /**\n     * settings and configuration data\n     * @access public\n     * @type {object}\n     */\n    LazyPlugin.prototype.config = {\n        // general\n        name               : \"lazy\",\n        chainable          : true,\n        autoDestroy        : true,\n        bind               : \"load\",\n        threshold          : 500,\n        visibleOnly        : false,\n        appendScroll       : window,\n        scrollDirection    : \"both\",\n        imageBase          : null,\n        defaultImage       : \"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\",\n        placeholder        : null,\n        delay              : -1,\n        combined           : false,\n\n        // attributes\n        attribute          : \"data-src\",\n        srcsetAttribute    : \"data-srcset\",\n        sizesAttribute     : \"data-sizes\",\n        retinaAttribute    : \"data-retina\",\n        loaderAttribute    : \"data-loader\",\n        imageBaseAttribute : \"data-imagebase\",\n        removeAttribute    : true,\n        handledName        : \"handled\",\n        loadedName         : \"loaded\",\n\n        // effect\n        effect             : \"show\",\n        effectTime         : 0,\n\n        // throttle\n        enableThrottle     : true,\n        throttle           : 250,\n\n        // callbacks\n        beforeLoad         : undefined,\n        afterLoad          : undefined,\n        onError            : undefined,\n        onFinishedAll      : undefined\n    };\n\n    // register window load event globally to prevent not loading elements\n    // since jQuery 3.X ready state is fully async and may be executed after 'load' \n    $(window).on(\"load\", function() { windowLoaded = true; });\n})(window);"]}